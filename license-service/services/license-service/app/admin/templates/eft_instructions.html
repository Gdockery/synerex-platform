<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>EFT Payment Instructions - Synerex Platform</title>
    <style>
      @keyframes gradientMove {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      
      /* Navigation Styles */
      .nav-header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 50;
        background: rgba(0, 0, 0, 0.9);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        border-bottom: 1px solid #1f2937;
        height: 56px;
      }
      .nav-container {
        max-width: 1280px;
        margin: 0 auto;
        padding: 0 24px;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .nav-logo {
        display: flex;
        align-items: center;
        text-decoration: none;
      }
      .nav-logo img {
        height: 48px;
        width: auto;
        filter: brightness(0) invert(1);
      }
      .nav-links {
        display: flex;
        gap: 24px;
        font-size: 14px;
      }
      .nav-links a {
        color: white;
        text-decoration: none;
        transition: color 0.2s;
      }
      .nav-links a:hover {
        color: #a855f7; /* purple-400 */
      }
      
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 24px;
        padding-top: 80px; /* Add padding for fixed nav */
        background: linear-gradient(135deg, #111827 0%, #1e3a8a 50%, #111827 100%);
        background-size: 400% 400%;
        animation: gradientMove 15s ease infinite;
        min-height: 100vh;
      }
      .container {
        max-width: 800px;
        margin: 40px auto;
        background: white;
        padding: 32px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }
      .logo-container {
        text-align: center;
        margin-bottom: 24px;
        padding-bottom: 20px;
        border-bottom: 1px solid #eee;
      }
      .logo-container img {
        height: 60px;
        max-width: 250px;
      }
      h1 {
        color: #1976d2;
        margin-top: 0;
      }
      .order-summary {
        background: #f7fafc;
        padding: 1.5rem;
        border-radius: 8px;
        margin: 1.5rem 0;
        border: 1px solid #e2e8f0;
      }
      .order-row {
        display: flex;
        justify-content: space-between;
        padding: 0.75rem 0;
        border-bottom: 1px solid #e2e8f0;
      }
      .order-row:last-child {
        border-bottom: none;
        font-weight: 600;
        font-size: 1.1rem;
        color: #1976d2;
      }
      .bank-details {
        background: #e3f2fd;
        border: 2px solid #1976d2;
        border-radius: 8px;
        padding: 1.5rem;
        margin: 1.5rem 0;
      }
      .bank-details h3 {
        margin-top: 0;
        color: #1976d2;
      }
      .bank-row {
        display: flex;
        justify-content: space-between;
        padding: 0.75rem 0;
        border-bottom: 1px solid #bbdefb;
      }
      .bank-row:last-child {
        border-bottom: none;
      }
      .bank-row strong {
        color: #1565c0;
        min-width: 180px;
      }
      .info-box {
        background: #fff3e0;
        border-left: 4px solid #ff9800;
        padding: 1rem;
        border-radius: 4px;
        margin: 1.5rem 0;
        color: #5d4037;
      }
      .warning-box {
        background: #ffebee;
        border-left: 4px solid #f44336;
        padding: 1rem;
        border-radius: 4px;
        margin: 1.5rem 0;
        color: #c62828;
      }
      .btn {
        background: #1976d2;
        color: white;
        padding: 12px 24px;
        border: none;
        border-radius: 4px;
        font-size: 16px;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
        margin-top: 1rem;
      }
      .btn:hover {
        background: #1565c0;
      }
      .status-pending {
        background: #fff3e0;
        color: #e65100;
        padding: 12px;
        border-radius: 4px;
        margin-bottom: 24px;
        font-weight: 500;
      }
    </style>
  </head>
  <body>
    <nav class="nav-header">
      <div class="nav-container">
        <a href="{{ (website_url or 'http://localhost:5173') }}/" class="nav-logo">
          <img src="/static/synerex_logo_color.png" alt="Synerex Laboratories, LLC" />
        </a>
        <div class="nav-links">
          <a href="{{ (website_url or 'http://localhost:5173') }}/">Home</a>
          <a href="{{ (website_url or 'http://localhost:5173') }}/licensing">Licensing</a>
          <a href="{{ (website_url or 'http://localhost:5173') }}/my-account">My Account</a>
          <a href="{{ (website_url or 'http://localhost:5173') }}/contact">Contact</a>
        </div>
      </div>
    </nav>
    
    <div class="container">
      <div class="logo-container">
        <img src="/static/synerex_logo_color.png" alt="Synerex" />
      </div>
      <h1>EFT Payment Instructions</h1>
      
      <div class="status-pending">
        <strong>Payment Pending:</strong> Your order has been created. Please complete the EFT transfer below. Your license will be issued once payment is verified.
      </div>
      
      <div class="order-summary">
        <h3 style="margin-top: 0;">Order Summary</h3>
        <div class="order-row">
          <span>Order ID:</span>
          <span><strong>{{ order.order_id }}</strong></span>
        </div>
        <div class="order-row">
          <span>Organization:</span>
          <span><strong>{{ org.org_name }}</strong></span>
        </div>
        <div class="order-row">
          <span>Program:</span>
          <span>{{ order.program_id|upper }}</span>
        </div>
        <div class="order-row">
          <span>Plan:</span>
          <span>{{ order.plan|title }}</span>
        </div>
        <div class="order-row">
          <span>Total Amount:</span>
          <span>${{ order.amount_total }} {{ order.currency }}</span>
        </div>
      </div>
      
      <div class="bank-details">
        <h3>Bank Transfer Details</h3>
        <div class="bank-row">
          <strong>Bank Name:</strong>
          <span>{{ bank_name }}</span>
        </div>
        <div class="bank-row">
          <strong>Account Name:</strong>
          <span>{{ account_name }}</span>
        </div>
        <div class="bank-row">
          <strong>Routing Number (ACH):</strong>
          <span>{% if routing_number %}{{ routing_number }}{% else %}Not configured - please contact support{% endif %}</span>
        </div>
        <div class="bank-row">
          <strong>Account Number:</strong>
          <span>{% if account_number %}{{ account_number }}{% else %}Not configured - please contact support{% endif %}</span>
        </div>
        {% if swift_code %}
        <div class="bank-row">
          <strong>SWIFT Code:</strong>
          <span>{{ swift_code }}</span>
        </div>
        {% endif %}
      </div>
      
      <div class="warning-box">
        <strong>Important:</strong> Please include your <strong>Order ID: {{ order.order_id }}</strong> in the payment reference/memo field when making the transfer. This ensures your payment is matched to your order.
      </div>
      
      <div class="info-box">
        <strong>Payment Instructions:</strong>
        <ol style="margin: 0.5rem 0 0 1.5rem; padding-left: 1.5rem;">
          <li>Initiate an EFT transfer from your bank account for the amount: <strong>${{ order.amount_total }} {{ order.currency }}</strong></li>
          <li>Include your <strong>Order ID: {{ order.order_id }}</strong> in the payment reference/memo field</li>
          <li>Complete the transfer using the bank details above</li>
          <li>Once payment is received and verified, your license will be issued automatically</li>
          <li>You will receive an email notification when your license is ready</li>
        </ol>
      </div>
      
      <div class="info-box">
        <strong>Processing Time:</strong> EFT payments typically take 1-3 business days to process. Your license will be issued once payment is verified. You will receive email notifications at each step.
      </div>
      
      <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid #eee; text-align: center;">
        <a href="/register" class="btn">Back to Registration</a>
      </div>
    </div>
  </body>
</html>

